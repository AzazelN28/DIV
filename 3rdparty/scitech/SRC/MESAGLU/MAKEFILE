#############################################################################
#
#                   Copyright (C) 1996 SciTech Software
#                           All rights reserved.
#
# Descripton:   Generic makefile for the MGL version of Mesa GLU.
#
# $Date:   22 Jul 1997 19:10:44  $ $Author:   KendallB  $
#
#############################################################################

# DOS extender dependant flags

CFLAGS          += $(DX_CFLAGS) -DPC_HEADER
.IF $(BUILD_DLL)
CFLAGS          += -DNO_GLU_MACROS
.ELSE
CFLAGS          += -DNO_GL_MACROS
.ENDIF
ASFLAGS         += $(DX_ASFLAGS)

# Name of library and object files required to build it

.IF $(BUILD_DLL)
DLLFILE         = mesaglu$D
LIBFILE         = mesaglu$L
.ELSE
.IF $(STKCALL)
LIBFILE         = smesaglu$L
.ELSE
LIBFILE         = mesaglu$L
.ENDIF
.ENDIF
LIBCLEAN        = mesaglu.lib mesaglu.a smesaglu.lib
EXELIBS         = mesagl.lib

OBJECTS         = glu$O mipmap$O nurbs$O nurbscrv$O nurbssrf$O nurbsutl$O   \
                  project$O quadric$O tess$O tesselat$O polytest$O
.IF $(BUILD_DLL)
OBJECTS         += gluinit$O
.ENDIF

# Define the list of object files to create dependency information for

DEPEND_OBJ      = $(OBJECTS)

.INCLUDE: "$(SCITECH)\makedefs\common.mk"

# Target to build all DOS 32-bit libraries

.SWAP .PHONY mkdos32:
	@+build wc10-d32 install -u OPT=1 NO_PCH=1
	@+build wc11-d32 install -u OPT=1 NO_PCH=1
	@+build bc45-d32 install -u OPT=1
	@+build dj20-d32 install -u OPT=1

# Target to build all DOS libraries

.PHONY mkdos: mkdos32 cleanexe

# Target to build all libraries

.PHONY mkall: mkdos32 cleanexe

